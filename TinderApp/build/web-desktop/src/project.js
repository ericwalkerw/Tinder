window.__require=function e(t,s,a){function n(i,c){if(!s[i]){if(!t[i]){var o=i.split("/");if(o=o[o.length-1],!t[o]){var p="function"==typeof __require&&__require;if(!c&&p)return p(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+i+"'")}}var u=s[i]={exports:{}};t[i][0].call(u.exports,function(e){return n(t[i][1][e]||e)},u,u.exports,e,t,s,a)}return s[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<a.length;i++)n(a[i]);return n}({Client:[function(e,t,s){"use strict";cc._RF.push(t,"d39cf5Unt9L4IoH+vRAIw8B","Client"),cc.Class({extends:cc.Component,properties:{mUser:e("LogginUser"),mApp:e("appManager"),serverUri:"https://socket-chat-app-ce41.onrender.com/",_socket:WebSocket,userOnline:cc.Label,userConnected:cc.Label},start:function(){var e=this;this._socket=io(this.serverUri),this._socket.on("chat",function(t){e.mApp.onCreateCustomMes(t,e._socket.id)}),this._socket.on("login",function(t){cc.log(t),e.userConnected.string=""+t.userName;var s=cc.sequence(cc.moveTo(1,206,800),cc.delayTime(1),cc.moveTo(1,560,800));e.userConnected.node.stopAllActions(),e.userConnected.node.runAction(s),e.userOnline.string="Online: "+t.numberUsers})},sendMesToServer:function(){var e=this.mApp.onSendMessage();""!=e.newMes.trim()&&this._socket.emit("chat",e)},senduserData:function(){var e=this.mUser.onLogin();""!=e.userName.trim()&&this._socket.emit("login",e)}}),cc._RF.pop()},{LogginUser:"LogginUser",appManager:"appManager"}],LogginUser:[function(e,t,s){"use strict";cc._RF.push(t,"01c54SWCRFGPa+PLPu+HoGY","LogginUser"),cc.Class({extends:cc.Component,properties:{inputText:cc.EditBox,sMenu:cc.Node,sMain:cc.Node,userData:null,avatars:cc.SpriteAtlas,avatarOption:cc.Sprite,_avatarIndex:0},start:function(){this.avatarOption.width=this.avatarOption.height=350,this.avatarOption.spriteFrame=this.avatars.getSpriteFrames()[this._avatarIndex]},onLogin:function(){return this.userData={userName:this.inputText.string,avatarId:this._avatarIndex},""!=this.inputText.string.trim()&&(this.sMenu.active=!1,this.sMain.active=!0),this.userData},onBack:function(){this._avatarIndex--,this.avatarOption.spriteFrame=this.avatars.getSpriteFrames()[this._avatarIndex],this._avatarIndex<0&&(this._avatarIndex=this.avatars.getSpriteFrames().length-1)},onNext:function(){this._avatarIndex++,this.avatarOption.spriteFrame=this.avatars.getSpriteFrames()[this._avatarIndex],this._avatarIndex>=this.avatars.getSpriteFrames().length&&(this._avatarIndex=0)}}),cc._RF.pop()},{}],appManager:[function(e,t,s){"use strict";cc._RF.push(t,"fb65aQm3nBOzbn5AEYG/7Ms","appManager"),cc.Class({extends:cc.Component,properties:{inputText:cc.EditBox,mItemMes:[cc.Prefab],chatArea:cc.Node,mScrollView:cc.ScrollView,_textLength:0},onEnded:function(){this.inputText.focus()},onSendMessage:function(){this._textLength=this.inputText.string.length;var e={newMes:this.inputText.string};return this.inputText.string="",this.mScrollView.scrollToBottom(.1),e},CreateMessage:function(e,t,s){var a=cc.instantiate(e),n=a.getComponent("renderMessage");n.setMes(t),t.id==s?(t.userName="",n.setName(t),n.setAnchor(),n.setOpacity(),a.parent=this.chatArea):(n.setName(t),a.parent=this.chatArea)},onCreateCustomMes:function(e,t){var s=e.newMes.length>=24?this.mItemMes[1]:this.mItemMes[0];this.CreateMessage(s,e,t)}}),cc._RF.pop()},{}],renderMessage:[function(e,t,s){"use strict";cc._RF.push(t,"2f841SA/y9DAoS1JRSwaEuh","renderMessage"),cc.Class({extends:cc.Component,properties:{message:cc.Label,userName:cc.Label,avatar:cc.Sprite,avatars:cc.SpriteAtlas},setMes:function(e){this.message.string=e.newMes.trim()},setName:function(e){this.userName.string=e.userName,this.avatar.spriteFrame=this.avatars.getSpriteFrames()[e.avatarId]},setAnchor:function(){this.message.node.anchorX=1,this.message.node.x=350},setOpacity:function(){this.avatar.node.opacity=0}}),cc._RF.pop()},{}]},{},["Client","LogginUser","appManager","renderMessage"]);